# 채팅방 입장/퇴장 로직 변경 계획

## 현재 상황
- 채팅방 페이지 접속 시 JOIN 웹소켓 이벤트 발생 → 입장 처리
- 채팅방 페이지 나갈 때 LEAVE 웹소켓 이벤트 발생 → 퇴장 처리
- room_participants_history 테이블에 joined_at, quit_at으로 입장/퇴장 시간 기록

## 새로운 요구사항
1. **입장 기준 변경**:
   - 채팅방 생성 시 초대받은 모든 사용자들 → 입장 처리
   - 기존 채팅방에 다른 사용자 초대 시 → 초대받은 사용자 입장 처리

2. **퇴장 기준 변경**:
   - 채팅방 목록에서 나가기 버튼 클릭 시 → 퇴장 처리
   - 채팅방 페이지 나가기는 퇴장이 아님

## 구현 계획

### 백엔드 수정
1. **ChatService.createChatRoom()**: 이미 구현됨 - 참여자들의 joinedAt 설정
2. **새 API 추가**: 기존 채팅방에 사용자 초대하는 API 필요
3. **ChatController.leaveChatRoom()**: 이미 구현됨 - 목록에서 나가기 시 사용
4. **MessageController**: JOIN/LEAVE 웹소켓 이벤트 제거 또는 알림용으로만 사용

### 프론트엔드 수정  
1. **ChatRoomPage**: JOIN/LEAVE 웹소켓 이벤트 제거
2. **ChatListPage**: 나가기 버튼 기능은 이미 구현됨
3. **사용자 초대 기능**: 채팅방 내에서 사용자를 추가로 초대하는 UI/기능 필요

### 추가 기능
- 입장/퇴장 기록 조회 API 및 UI 구현